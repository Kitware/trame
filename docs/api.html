<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Trame</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://kitware.github.io/trame/docs/api.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://kitware.github.io/trame/docs/api.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/trame/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/trame/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/trame/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/trame/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/trame/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/trame/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/trame/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/trame/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/trame/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/trame/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/trame/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/trame/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/trame/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/trame/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/trame/css/navy.css">

  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/trame/atom.xml" title="Trame" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="APITrame aims to streamline creation of graphical interface for interactive data manipulation and visualization with a very compact and simple API.This document try to capture the core API and concept">
<meta property="og:type" content="website">
<meta property="og:title" content="Trame">
<meta property="og:url" content="https://kitware.github.io/trame/docs/api.html">
<meta property="og:site_name" content="Trame">
<meta property="og:description" content="APITrame aims to streamline creation of graphical interface for interactive data manipulation and visualization with a very compact and simple API.This document try to capture the core API and concept">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-10-25T19:44:14.863Z">
<meta property="article:modified_time" content="2021-10-25T19:44:14.863Z">
<meta property="article:author" content="Kitware Inc.">
<meta name="twitter:card" content="summary">
  <!-- Google Analytics -->
  


<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/trame/" id="logo">Trame</a>
    </h1>
    <nav id="main-nav">
      <a href="/trame/docs/" class="main-nav-link">Documentation</a>
      <a target="_blank" rel="noopener" href="https://github.com/kitware/trame" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name"></h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h1 id="API" class="article-heading"><a href="#API" class="headerlink" title="API"></a>API<a class="article-anchor" href="#API" aria-hidden="true"></a></h1><p>Trame aims to streamline creation of graphical interface for interactive data manipulation and visualization with a very compact and simple API.<br>This document try to capture the core API and concepts behind trame so you can use it when you get started but also as reference once you get more familiar with Trame.</p>
<h2 id="Core-concept" class="article-heading"><a href="#Core-concept" class="headerlink" title="Core concept"></a>Core concept<a class="article-anchor" href="#Core-concept" aria-hidden="true"></a></h2><p>Trame allow you to easily share variables between the UI components and your Python application.<br>But on top of that shared state, functions and methods can be triggered from either side.<br>For example, you can link a Python function to be called when a button in the UI is clicked.<br>This document will focus on how you can leverage those two functionalities inside your application using Trame.</p>
<h2 id="Shared-state" class="article-heading"><a href="#Shared-state" class="headerlink" title="Shared state"></a>Shared state<a class="article-anchor" href="#Shared-state" aria-hidden="true"></a></h2><p>Trame mainly focus on the Python side, therefore the variables that we aim to use across our application will be defined from Python.<br>The following sections will illustate the various way you can affect the shared state.</p>
<h3 id="UI-element-with-a-dynamic-variable" class="article-heading"><a href="#UI-element-with-a-dynamic-variable" class="headerlink" title="UI element with a dynamic variable"></a>UI element with a dynamic variable<a class="article-anchor" href="#UI-element-with-a-dynamic-variable" aria-hidden="true"></a></h3><p>The example below use Vuetify to create a slider where the value controlled by that slider is available in our shared state behind the name <code>slider_value</code> that we initialize with the value <code>8</code>. So variables in our shared state can be defined and initialized right were we want to use them when defining our UI elements. In that example, the slider will be able to modify that value but also will reflect its content if that value change on the server side.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> trame.html <span class="keyword">import</span> vuetify</span><br><span class="line"></span><br><span class="line">slider = vuetify.VSlider(</span><br><span class="line">  label=<span class="string">&quot;Example&quot;</span>,</span><br><span class="line">  <span class="built_in">min</span>=<span class="number">2</span>,</span><br><span class="line">  <span class="built_in">max</span>=<span class="number">15</span>,</span><br><span class="line">  v_model=(<span class="string">&quot;slider_value&quot;</span>, <span class="number">8</span>),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Listening-to-change" class="article-heading"><a href="#Listening-to-change" class="headerlink" title="Listening to change"></a>Listening to change<a class="article-anchor" href="#Listening-to-change" aria-hidden="true"></a></h3><p>Let’s pretend we want to monitor the value of <code>slider_value</code> within our Python application and execute a method when such variable gets updated.<br>The code below illustate how we can annotate function so they can be called when a value of our shared state is modified.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> trame <span class="keyword">import</span> change</span><br><span class="line"></span><br><span class="line"><span class="meta">@change(<span class="params"><span class="string">&quot;slider_value&quot;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">slider_value_change</span>(<span class="params">slider_value, **kwargs</span>):</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">f&quot;Slider is changing slider_value to <span class="subst">&#123;slider_value&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>So far, we only have the client modifing that variable. But if a function on the server were to change that variable, that function will also be called as we simply react to the fact that such variable has been updated by someone.</p>
<h3 id="Changing-the-value-from-Python" class="article-heading"><a href="#Changing-the-value-from-Python" class="headerlink" title="Changing the value from Python"></a>Changing the value from Python<a class="article-anchor" href="#Changing-the-value-from-Python" aria-hidden="true"></a></h3><p>Within our Python application it is possible that you would like to read and even write in that shared state so the UI can reflect your changes.<br>The code below provide a function that will read the current value and update its content.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> trame <span class="keyword">import</span> update_state, get_state</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_update</span>():</span></span><br><span class="line">  current_value, = get_state(<span class="string">&quot;slider_value&quot;</span>) <span class="comment"># read a set of variables</span></span><br><span class="line"></span><br><span class="line">  current_value += <span class="number">1</span></span><br><span class="line">  <span class="keyword">if</span> current_value &gt; <span class="number">15</span>:</span><br><span class="line">    current_value = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">  update_state(<span class="string">&quot;slider_value&quot;</span>, current_value) <span class="comment"># update variable with new content</span></span><br></pre></td></tr></table></figure>

<h3 id="Forcing-variable-exchange" class="article-heading"><a href="#Forcing-variable-exchange" class="headerlink" title="Forcing variable exchange"></a>Forcing variable exchange<a class="article-anchor" href="#Forcing-variable-exchange" aria-hidden="true"></a></h3><p>Sometime, the variable inside your shared state is an actual object with nested structure. While the state on the Python side always keeps the same reference to that object, you are manually editing its content and you want to flush its content so the client can see your changes. In that use case we have a <code>flush_state()</code> methods that can be called with the list of variable names that should be pushed. This is also useful in some async context to control when pieces of the state should be pushed to the other side. The code below provide a usage example.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> asyncio</span><br><span class="line"><span class="keyword">from</span> trame <span class="keyword">import</span> flush_state, update_state</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">update_time</span>():</span></span><br><span class="line">  <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">await</span> asyncio.sleep(<span class="number">1</span>)</span><br><span class="line">    update_state(<span class="string">&quot;time&quot;</span>, time.time())</span><br><span class="line">    flush_state(<span class="string">&quot;time&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="Method-calls" class="article-heading"><a href="#Method-calls" class="headerlink" title="Method calls"></a>Method calls<a class="article-anchor" href="#Method-calls" aria-hidden="true"></a></h2><p>When building a client/server application you will need to be able to trigger methods on both side and Trame as some easy to do that.</p>
<h3 id="Bind-method-to-a-button-click" class="article-heading"><a href="#Bind-method-to-a-button-click" class="headerlink" title="Bind method to a button click"></a>Bind method to a button click<a class="article-anchor" href="#Bind-method-to-a-button-click" aria-hidden="true"></a></h3><p>The example below re-use the function we had defined before but now we bind it to a button.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> trame.html <span class="keyword">import</span> vuetify</span><br><span class="line"><span class="keyword">from</span> trame <span class="keyword">import</span> update_state, get_state</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_update</span>():</span></span><br><span class="line">  current_value, = get_state(<span class="string">&quot;slider_value&quot;</span>) <span class="comment"># read a set of variables</span></span><br><span class="line"></span><br><span class="line">  current_value += <span class="number">1</span></span><br><span class="line">  <span class="keyword">if</span> current_value &gt; <span class="number">15</span>:</span><br><span class="line">    current_value = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">  update_state(<span class="string">&quot;slider_value&quot;</span>, current_value) <span class="comment"># update variable with new content</span></span><br><span class="line"></span><br><span class="line">change_btn = vuetify.VBtn(</span><br><span class="line">  <span class="string">&quot;Change slider_value&quot;</span>,</span><br><span class="line">  click=random_update</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="Calling-JS-methods" class="article-heading"><a href="#Calling-JS-methods" class="headerlink" title="Calling JS methods"></a>Calling JS methods<a class="article-anchor" href="#Calling-JS-methods" aria-hidden="true"></a></h3><p>Some components used in your layout may have some API that you can use and call from the Python side.<br>The code below provide an example of such use case:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> trame <span class="keyword">import</span> call</span><br><span class="line"><span class="keyword">from</span> trame.html <span class="keyword">import</span> vtk</span><br><span class="line"></span><br><span class="line">html_view = vtk.VtkView(</span><br><span class="line">  ref=<span class="string">&quot;vtkView&quot;</span>, <span class="comment"># Name to identify the Web component on which we want to call a method</span></span><br><span class="line">  ...</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reset_camera</span>():</span></span><br><span class="line">  call(ref=<span class="string">&quot;vtkView&quot;</span>, method=<span class="string">&quot;resetCamera&quot;</span>, args=[])</span><br></pre></td></tr></table></figure>

<h2 id="Layout-management" class="article-heading"><a href="#Layout-management" class="headerlink" title="Layout management"></a>Layout management<a class="article-anchor" href="#Layout-management" aria-hidden="true"></a></h2><p>Layouts are meant to define the core UI elements of an application. Think of FullScreen vs Toolbar, Drawer, Footer and so on.<br>Layouts let you drop pieces of your UI into pre-defined locations.<br>The layout gather the way your application will look and it could be defined once or be redifined at runtime.</p>
<h2 id="Command-line-arguments" class="article-heading"><a href="#Command-line-arguments" class="headerlink" title="Command line arguments"></a>Command line arguments<a class="article-anchor" href="#Command-line-arguments" aria-hidden="true"></a></h2><p>[…]</p>
<h2 id="Starting-the-application" class="article-heading"><a href="#Starting-the-application" class="headerlink" title="Starting the application"></a>Starting the application<a class="article-anchor" href="#Starting-the-application" aria-hidden="true"></a></h2><p>[…]</p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2021-10-25T19:44:14.863Z" itemprop="dateModified">Last updated: 2021-10-25</time>
                <a href="concepts.html" class="article-footer-prev" title="Concepts"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="cookbook.html" class="article-footer-next" title="Cookbook"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#API"><span class="toc-text">API</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Core-concept"><span class="toc-text">Core concept</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shared-state"><span class="toc-text">Shared state</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#UI-element-with-a-dynamic-variable"><span class="toc-text">UI element with a dynamic variable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Listening-to-change"><span class="toc-text">Listening to change</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Changing-the-value-from-Python"><span class="toc-text">Changing the value from Python</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Forcing-variable-exchange"><span class="toc-text">Forcing variable exchange</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Method-calls"><span class="toc-text">Method calls</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bind-method-to-a-button-click"><span class="toc-text">Bind method to a button click</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Calling-JS-methods"><span class="toc-text">Calling JS methods</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Layout-management"><span class="toc-text">Layout management</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Command-line-arguments"><span class="toc-text">Command line arguments</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Starting-the-application"><span class="toc-text">Starting the application</span></a></li></ol></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link">Introduction</a><a href="concepts.html" class="sidebar-link">Concepts</a><a href="api.html" class="sidebar-link current">API</a><a href="cookbook.html" class="sidebar-link">Cookbook</a><strong class="sidebar-title">Tutorial</strong><a href="tutorial.html" class="sidebar-link">Overview</a><a href="tutorial-download.html" class="sidebar-link">Download</a><a href="tutorial-setup.html" class="sidebar-link">Setup</a><strong class="sidebar-title">Modules</strong><a href="vuetify.html" class="sidebar-link">Vuetify</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2021 <a href="https://www.kitware.com/" target="_blank">Kitware Inc.</a>
    </div>

    <div id="footer-links">
      <a href="https://github.com/kitware/trame" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
  <!--
    <a
      style="position: fixed; background: #00529b; color: white; top: 0; right: 0; height: 70px"
      target="_blank" rel="noopener" href="https://www.kitware.com/careers"
    >
      <div style="position: relative; text-align: center;">
        <div
          style="margin-top: 5px; background: url(https://www.cmake.org/wp-content/uploads/2018/09/jobs_icon.png) no-repeat; background-size: 100%; width: 50px; height: 40px; margin: 5px auto 0;"
        ></div>
        <span style="padding: 5px 10px">Kitware is Hiring</span>
      </div>
    </a>
  -->
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/trame/docs/" class="mobile-nav-link">Documentation</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/kitware/trame" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link">Introduction</a><a href="concepts.html" class="mobile-nav-link">Concepts</a><a href="api.html" class="mobile-nav-link current">API</a><a href="cookbook.html" class="mobile-nav-link">Cookbook</a><strong class="mobile-nav-title">Tutorial</strong><a href="tutorial.html" class="mobile-nav-link">Overview</a><a href="tutorial-download.html" class="mobile-nav-link">Download</a><a href="tutorial-setup.html" class="mobile-nav-link">Setup</a><strong class="mobile-nav-title">Modules</strong><a href="vuetify.html" class="mobile-nav-link">Vuetify</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/api.html">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->

<script src="/trame/js/lang_select.js"></script>


<script src="/trame/js/toc.js"></script>


<script src="/trame/js/mobile_nav.js"></script>

<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>



</body>
</html>